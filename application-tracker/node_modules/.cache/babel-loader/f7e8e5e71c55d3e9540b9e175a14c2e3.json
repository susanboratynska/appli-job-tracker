{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/WebProject/project-and-learning-documentations-dreamteam/application-tracker/src/components/jobapp/list-jobapp.component.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Link, Route, useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport helpers from \"../../functions/susan-helperfunctions\";\nimport PaginationComponent from \"./pagination.component\";\nimport AddJobAppComponent from \"./add-jobapp.component\";\n\nconst JobApp = props => /*#__PURE__*/React.createElement(\"tr\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }\n}, displayStatus(props.jobapp.jobapp_status), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 9\n  }\n}, props.jobapp.jobapp_title), displayURL(props.jobapp.jobapp_companywebsite, props.jobapp.jobapp_companyname), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 9\n  }\n}, helpers.formatDateString(props.jobapp.jobapp_applydate)), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(Link, {\n  to: \"/jobapp/show/\" + props.jobapp._id,\n  className: \"tooltip-toggle\",\n  \"data-tooltip\": \"See Details\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 13\n  }\n}, /*#__PURE__*/React.createElement(\"img\", {\n  src: \"/images/icons/list.svg\",\n  alt: \"See Job Application\",\n  className: \"table__icons\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 114\n  }\n})), /*#__PURE__*/React.createElement(Link, {\n  to: \"/jobapp/update/\" + props.jobapp._id,\n  className: \"tooltip-toggle\",\n  \"data-tooltip\": \"Edit\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 13\n  }\n}, /*#__PURE__*/React.createElement(\"img\", {\n  src: \"/images/icons/edit-button.svg\",\n  alt: \"Edit Job Application\",\n  className: \"table__icons\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 109\n  }\n})), /*#__PURE__*/React.createElement(Link, {\n  to: \"/jobapp/delete/\" + props.jobapp._id,\n  className: \"tooltip-toggle\",\n  \"data-tooltip\": \"Delete\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 13\n  }\n}, /*#__PURE__*/React.createElement(\"img\", {\n  src: \"/images/icons/quit.svg\",\n  alt: \"Delete Job Application\",\n  className: \"table__icons\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 111\n  }\n})))); // ---------- Functions ---------- //\n// Function to display boolean status:\n\n\nfunction displayStatus(stringStatus) {\n  if (stringStatus === true) {\n    return /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 16\n      }\n    }, \"Closed\");\n  } else {\n    return /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 16\n      }\n    }, \"Open\");\n  }\n} // Function to display link if exists:\n\n\nfunction displayURL(website, company) {\n  if (website) {\n    return /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: website,\n      target: \"_blank\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 20\n      }\n    }, company));\n  } else {\n    return /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 16\n      }\n    }, company);\n  }\n}\n\nexport default class ListJobAppComponent extends Component {\n  // Take a constructor and pass in props from the component:\n  constructor(props) {\n    // Taking the parent constructor and passing in props:\n    super(props); // Set initial state object to contain a property of jobapp:\n    // And that property is initially containing an empty array:\n\n    this.state = {\n      jobapp: [],\n      count: 1,\n      page: parseInt(this.props.match.params.pageIndex),\n      previousPage: [1]\n    };\n    this.jobAppList = this.jobAppList.bind(this);\n    this.changePage = this.changePage.bind(this);\n    this.onBackButtonEvent = this.onBackButtonEvent.bind(this);\n  }\n\n  changePage(page) {\n    window.onpopstate = this.onBackButtonEvent;\n    axios.get(`http://localhost:4000/appli-job-app-tracker/jobapps/page/${page}`).then(response => {\n      this.setState({\n        jobapp: response.data\n      });\n      this.setState({\n        page: page\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  } // Need ot initialize the jobapp state property here with the jobapp\n  // need to find a way to initially send request to teh backend, to get the response\n  // back a list of jobapp items to set the state property accordingly\n\n\n  componentDidMount() {\n    axios.get(`http://localhost:4000/appli-job-app-tracker/jobapps/page/${this.state.page}`).then(response => {\n      this.setState({\n        jobapp: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  } //quick solution to backwards-forwards browser button history fix\n\n\n  onBackButtonEvent(e) {\n    e.preventDefault();\n    this.changePage(parseInt(this.props.match.params.pageIndex));\n  } // Create jobAppList method:\n\n\n  jobAppList() {\n    // Iterate over elements\n    // map callback function gets all items\n    return this.state.jobapp.map((currentJobApp, i) => {\n      return /*#__PURE__*/React.createElement(JobApp, {\n        jobapp: currentJobApp,\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 24\n        }\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contentcontainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, \"Job Applications\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page__nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/jobapp/add\",\n      className: \"btn btn-outline-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 21\n      }\n    }, \"Add New Job\"), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"jobapplist_search\",\n      hidden: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 25\n      }\n    }, \"Search\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"search__bar\",\n      id: \"jobapplist_search\",\n      type: \"text\",\n      placeholder: \"Search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(PaginationComponent, {\n      page: this.state.page,\n      pageChange: this.changePage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-striped list__table\",\n      style: {\n        marginTop: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      id: \"jobapp__tablehead\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 29\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 29\n      }\n    }, \"Job Title\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 29\n      }\n    }, \"Company\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 29\n      }\n    }, \"Application Date\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 29\n      }\n    }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }\n    }, this.jobAppList())));\n  }\n\n}","map":{"version":3,"sources":["/Applications/MAMP/htdocs/WebProject/project-and-learning-documentations-dreamteam/application-tracker/src/components/jobapp/list-jobapp.component.js"],"names":["React","Component","BrowserRouter","Router","Link","Route","useParams","axios","helpers","PaginationComponent","AddJobAppComponent","JobApp","props","displayStatus","jobapp","jobapp_status","jobapp_title","displayURL","jobapp_companywebsite","jobapp_companyname","formatDateString","jobapp_applydate","_id","stringStatus","website","company","ListJobAppComponent","constructor","state","count","page","parseInt","match","params","pageIndex","previousPage","jobAppList","bind","changePage","onBackButtonEvent","window","onpopstate","get","then","response","setState","data","catch","error","console","log","componentDidMount","e","preventDefault","map","currentJobApp","i","render","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {BrowserRouter as Router, Link, Route, useParams} from 'react-router-dom';\nimport axios from 'axios';\nimport helpers from \"../../functions/susan-helperfunctions\";\n\nimport PaginationComponent from \"./pagination.component\";\nimport AddJobAppComponent from \"./add-jobapp.component\";\n\n\n\nconst JobApp = props => (\n    <tr>\n        { displayStatus(props.jobapp.jobapp_status) }\n        <td>{props.jobapp.jobapp_title}</td>\n        { displayURL( props.jobapp.jobapp_companywebsite, props.jobapp.jobapp_companyname ) }\n        <td>{ helpers.formatDateString(props.jobapp.jobapp_applydate) }</td>\n        <td>\n            <Link to={\"/jobapp/show/\" + props.jobapp._id } className='tooltip-toggle' data-tooltip='See Details'><img src=\"/images/icons/list.svg\" alt=\"See Job Application\" className=\"table__icons\"/></Link>\n            <Link to={\"/jobapp/update/\" + props.jobapp._id } className='tooltip-toggle' data-tooltip='Edit'><img src=\"/images/icons/edit-button.svg\" alt=\"Edit Job Application\" className=\"table__icons\"/></Link>\n            <Link to={\"/jobapp/delete/\" + props.jobapp._id } className='tooltip-toggle' data-tooltip='Delete'><img src=\"/images/icons/quit.svg\" alt=\"Delete Job Application\" className=\"table__icons\"/></Link>\n        </td>\n    </tr>\n)\n\n// ---------- Functions ---------- //\n\n\n// Function to display boolean status:\nfunction displayStatus (stringStatus) {\n    if (stringStatus === true) {\n        return <td>Closed</td>\n    }\n    else {\n        return <td>Open</td>\n    }\n}\n\n// Function to display link if exists:\nfunction displayURL (website, company) {\n    if (website) {\n        return <td><a href={website} target=\"_blank\">{company}</a></td>\n    } else {\n        return <td>{company}</td>\n    }\n}\n\n\n\nexport default class ListJobAppComponent extends Component {\n\n    // Take a constructor and pass in props from the component:\n    constructor(props) {\n        // Taking the parent constructor and passing in props:\n        super(props);\n        // Set initial state object to contain a property of jobapp:\n        // And that property is initially containing an empty array:\n        this.state = {jobapp: [], count: 1, page: parseInt(this.props.match.params.pageIndex), previousPage: [1]};\n        this.jobAppList = this.jobAppList.bind(this);\n        this.changePage = this.changePage.bind(this);\n        this.onBackButtonEvent = this.onBackButtonEvent.bind(this);\n\n    }\n\n    changePage(page) {\n\n        window.onpopstate = this.onBackButtonEvent;\n        axios.get(`http://localhost:4000/appli-job-app-tracker/jobapps/page/${page}`)\n            .then(response => {\n                this.setState({jobapp: response.data});\n                this.setState({page: page});\n\n            })\n            .catch(function(error) {\n                console.log(error);\n            })\n\n    }\n\n    // Need ot initialize the jobapp state property here with the jobapp\n    // need to find a way to initially send request to teh backend, to get the response\n    // back a list of jobapp items to set the state property accordingly\n    componentDidMount(){\n\n        axios.get(`http://localhost:4000/appli-job-app-tracker/jobapps/page/${this.state.page}`)\n            .then(response => {\n                this.setState({jobapp: response.data});\n\n            })\n            .catch(function(error) {\n                console.log(error);\n            })\n\n    }\n        //quick solution to backwards-forwards browser button history fix\n        onBackButtonEvent(e) {\n        e.preventDefault();\n        this.changePage(parseInt(this.props.match.params.pageIndex));\n    }\n\n    // Create jobAppList method:\n    jobAppList() {\n        // Iterate over elements\n        // map callback function gets all items\n        return this.state.jobapp.map((currentJobApp, i) => {\n\n                return <JobApp jobapp={currentJobApp} key={i} />;\n\n\n        })\n    }\n\n\n\n\n    render() {\n\n        return (\n\n            <div className=\"contentcontainer\">\n\n                <h1>Job Applications</h1>\n                <div className=\"page__nav\">\n                    <a href=\"/jobapp/add\" className=\"btn btn-outline-primary\">Add New Job</a>\n                    <form>\n                        <label for=\"jobapplist_search\" hidden>Search</label>\n                        <input className=\"search__bar\" id=\"jobapplist_search\" type=\"text\" placeholder=\"Search\" ></input>\n                    </form>\n\n                </div>\n                <PaginationComponent page={this.state.page} pageChange={this.changePage} />\n                <table className=\"table table-striped list__table\" style={{marginTop: 20}} >\n                    <thead>\n                        <tr id=\"jobapp__tablehead\">\n                            <th>Status</th>\n                            <th>Job Title</th>\n                            <th>Company</th>\n                            <th>Application Date</th>\n                            <th>Action</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        { this.jobAppList() }\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}